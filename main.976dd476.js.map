{"version":3,"sources":["scripts/main.js"],"names":["heading","document","querySelector","tableBody","sortFunction","toBeSorted","columnIndex","sorted","content","children","textContent","replace","sort","one","two","first","second","isNaN","sortedAscending","forEach","row","rowIndex","reverse","append","addEventListener","e","indexOf","target","activateRow","activeRow","classList","remove","event","closest","add","data","form","createElement","offices","dataPiece","inputField","inputLabel","type","office","option","value","appendChild","setAttribute","toLowerCase","name","label","lastChild","button","id","body","submitButton","getInfo","preventDefault","inputData","querySelectorAll","newbie","item","toLocaleString","addEntry","employee","age","position","salary","pushNotification","Number","length","newRow","cell","reset","title","description","notification","innerHTML","setTimeout","editCell","initialValue","style","width","window","getComputedStyle","focus","leaveCell","key","removeEventListener","insertAdjacentText"],"mappings":"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","file":"main.976dd476.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\n// ####################### One that Sorts #################################\r\nconst heading = document.querySelector('table thead tr');\r\nconst tableBody = document.querySelector('table tbody');\r\n\r\nconst sortFunction = (toBeSorted, columnIndex) => {\r\n  const sorted = [...toBeSorted];\r\n  const content = sorted[0].children[columnIndex].textContent;\r\n\r\n  if (content.replace(/\\D/g, '') === '') {\r\n    sorted.sort((one, two) => {\r\n      const first = one.children[columnIndex].textContent;\r\n      const second = two.children[columnIndex].textContent;\r\n\r\n      if (first > second) {\r\n        return 1;\r\n      };\r\n\r\n      if (first < second) {\r\n        return -1;\r\n      };\r\n\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  if (!isNaN(content.replace(/\\D/g, ''))) {\r\n    sorted.sort((one, two) => {\r\n      const first = one.children[columnIndex].textContent.replace(/\\D/g, '');\r\n      const second = two.children[columnIndex].textContent.replace(/\\D/g, '');\r\n\r\n      return first - second;\r\n    });\r\n  };\r\n\r\n  let sortedAscending = true;\r\n\r\n  sorted.forEach((row, rowIndex) => {\r\n    if (row.children[columnIndex].textContent\r\n      !== [...toBeSorted][rowIndex].children[columnIndex].textContent) {\r\n      sortedAscending = false;\r\n    }\r\n  });\r\n\r\n  if (sortedAscending) {\r\n    sorted.reverse();\r\n  }\r\n\r\n  tableBody.append(...sorted);\r\n};\r\n\r\nheading.addEventListener('click', (e) => {\r\n  const columnIndex = [...heading.children].indexOf(e.target);\r\n\r\n  sortFunction(tableBody.children, columnIndex);\r\n});\r\n\r\n// ####################### One that Activates #################################\r\n\r\nconst activateRow = () => {\r\n  const activeRow = document.querySelector('.active');\r\n\r\n  if (activeRow) {\r\n    activeRow.classList.remove('active');\r\n  }\r\n\r\n  event.target.closest('tr').classList.add('active');\r\n};\r\n\r\ntableBody.addEventListener('click', activateRow);\r\n\r\n// ########################## One that Adds ####################################\r\n\r\nconst data = [...heading.children];\r\nconst form = document.createElement('FORM');\r\nconst offices = ['Tokyo',\r\n  'Singapore',\r\n  'London',\r\n  'New York',\r\n  'Edinburg',\r\n  'San Francisco',\r\n];\r\n\r\nform.classList.add('new-employee-form');\r\n\r\ndata.forEach((dataPiece) => {\r\n  let inputField;\r\n  const inputLabel = document.createElement('LABEL');\r\n\r\n  inputLabel.textContent = dataPiece.textContent + ':';\r\n\r\n  if (dataPiece.textContent !== 'Office') {\r\n    inputField = document.createElement('INPUT');\r\n    inputField.type = 'text';\r\n  }\r\n\r\n  if (dataPiece.textContent === 'Office') {\r\n    inputField = document.createElement('SELECT');\r\n\r\n    offices.forEach(office => {\r\n      const option = document.createElement('OPTION');\r\n\r\n      option.textContent = office;\r\n      option.value = office;\r\n      inputField.appendChild(option);\r\n    });\r\n  }\r\n\r\n  inputField.setAttribute('data-qa', dataPiece.textContent.toLowerCase());\r\n  inputField.name = dataPiece.textContent.toLowerCase();\r\n\r\n  inputLabel.append(inputField);\r\n  form.append(inputLabel);\r\n});\r\n\r\n[...form.children].forEach(label => {\r\n  if (label.lastChild.name === 'age'\r\n  || label.lastChild.name === 'salary') {\r\n    label.lastChild.type = 'number';\r\n  }\r\n});\r\n\r\nconst button = document.createElement('BUTTON');\r\n\r\nbutton.textContent = 'Save to table';\r\nbutton.type = 'submit';\r\nbutton.id = 'addNewbie';\r\nform.appendChild(button);\r\n\r\ndocument.body.appendChild(form);\r\n\r\nconst submitButton = document.querySelector('#addNewbie');\r\n\r\nconst getInfo = () => {\r\n  event.preventDefault();\r\n\r\n  const inputData = [...form.querySelectorAll('LABEL')];\r\n  const newbie = {};\r\n\r\n  inputData.forEach(item => {\r\n    if (item.lastChild.name === 'salary') {\r\n      newbie[`${item.lastChild.name}`] = '$'\r\n      + (+item.lastChild.value).toLocaleString('en-US');\r\n    } else {\r\n      newbie[`${item.lastChild.name}`] = item.lastChild.value;\r\n    }\r\n  });\r\n\r\n  addEntry(newbie);\r\n};\r\n\r\nconst addEntry = (employee) => {\r\n  switch (true) {\r\n    case (employee.name === ''\r\n      || employee.age === ''\r\n      || employee.position === ''\r\n      || employee.salary.replace(/\\D/g, '') === '') : {\r\n      pushNotification(\r\n        'Warning',\r\n        `Something is missing!<br>Please fill all the fields.`,\r\n        'error'\r\n      );\r\n      break;\r\n    }\r\n\r\n    case (isNaN(Number(employee.age))\r\n      || isNaN(Number(employee.salary.replace(/\\D/g, '')))\r\n      || !isNaN(Number(employee.name))\r\n      || !isNaN(Number(employee.position))) : {\r\n      pushNotification(\r\n        'Warning',\r\n        `Please check the correctness of the data.`,\r\n        'error'\r\n      );\r\n      break;\r\n    }\r\n\r\n    case (employee.name.length < 4) : {\r\n      pushNotification(\r\n        'Error',\r\n        'New employee name is too short!',\r\n        'error'\r\n      );\r\n      break;\r\n    }\r\n\r\n    case (employee.age < 18 || employee.age > 90) : {\r\n      pushNotification(\r\n        'Error',\r\n        'Such a strange age...',\r\n        'error'\r\n      );\r\n      break;\r\n    }\r\n\r\n    default : {\r\n      const newRow = document.createElement('TR');\r\n\r\n      data.forEach(dataPiece => {\r\n        const cell = document.createElement('TD');\r\n\r\n        cell.textContent = employee[`${dataPiece.textContent.toLowerCase()}`];\r\n        newRow.appendChild(cell);\r\n      });\r\n\r\n      tableBody.appendChild(newRow);\r\n      form.reset();\r\n\r\n      pushNotification(\r\n        'Success!',\r\n        'New employee is succesfully added!',\r\n        'success'\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nsubmitButton.addEventListener('click', getInfo);\r\n\r\n// ####################### One that Notifies #################################\r\n\r\nconst pushNotification = (title, description, type) => {\r\n  const notification = document.createElement('DIV');\r\n\r\n  notification.innerHTML = `\r\n    <h2 class = 'title'>${title}</h2>\r\n    <p>${description}</p>\r\n  `;\r\n  notification.classList.add('notification', type);\r\n  notification.setAttribute('data-qa', 'notification');\r\n  document.body.appendChild(notification);\r\n\r\n  setTimeout(() => notification.remove(), 5000);\r\n};\r\n\r\n// ####################### One that Edits #################################\r\n\r\nconst editCell = () => {\r\n  const inputField = document.createElement('INPUT');\r\n  const initialValue = event.target.textContent;\r\n\r\n  event.target.textContent = '';\r\n  inputField.value = initialValue;\r\n  inputField.type = 'text';\r\n  inputField.classList.add('cell-input');\r\n  inputField.style.width = window.getComputedStyle(event.target).width;\r\n  event.target.appendChild(inputField);\r\n  inputField.focus();\r\n\r\n  const leaveCell = (e) => {\r\n    if (e.type === 'focusout' || e.key === 'Enter') {\r\n      inputField.removeEventListener('focusout', leaveCell);\r\n\r\n      if (inputField.value === '') {\r\n        inputField.value = initialValue;\r\n      }\r\n      e.target.insertAdjacentText('beforebegin', inputField.value);\r\n      e.target.remove();\r\n    }\r\n  };\r\n\r\n  inputField.addEventListener('focusout', leaveCell);\r\n  inputField.addEventListener('keyup', leaveCell);\r\n};\r\n\r\ntableBody.addEventListener('dblclick', editCell);\r\n"]}